<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 2.1//EN" "http://struts.apache.org/dtds/struts-2.1.dtd">
<struts>

<constant name="struts.enable.DynamicMethodInvocation" value="false" />
<constant name="struts.devMode" value="true" />

<package name="back" namespace="/" extends="struts-default" >

	<!-- 注册拦截器  start-->
	<interceptors>
		<!-- adminsession的拦截器 -->
		<interceptor name="adminsession" class="interceptor.AdminSessionIntercepter"></interceptor>
		<!-- 配置ajaxsession拦截器， 拦截session过期操作 -->
		<interceptor name="ajaxsession" class="interceptor.AjaxSessionIntercepter"></interceptor>
	</interceptors>
	<!-- 注册拦截器  end-->
	
	<default-action-ref name="welcome" />
	
	<!-- 测试struts 所用的action -->
	<action name="backindex" class="test">
		<result>/WEB-INF/index.jsp</result>
	</action>
	<action name="backlogin">
		<result>/WEB-INF/jsp/backlogin.jsp</result>
	</action>
	
	<!-- 网站正在建设中页面 -->
	<action name="welcome">
		<result>/WEB-INF/jsp/welcome.jsp</result>
	</action>
	
	<!-- ajax 检查用户信息 ， 决定跳转的页面-->
	<action name="checkuser" class="control.login.CheckUser">
		<result type="stream">
			<param name="contentType">text/html</param>
			<param name="inputName">inputStream</param>
		</result>
	</action>
	
	<!-- 注销用户 -->
	<action name="outlogin" class="control.outlogin.OutLogin">
		<result>/WEB-INF/jsp/backlogin.jsp</result>
	</action>
	
	<!-- adminindex 页面的跳转 -->
	<action name="adminindex" class="control.jspmap.AdminIndex">
		<result name="success">/WEB-INF/jsp/adminindex.jsp</result>
		<result name="sessionout">/WEB-INF/jsp/backlogin.jsp</result>
		<!-- 配置系统默认拦截器 -->
		<interceptor-ref name="defaultStack"></interceptor-ref>
		<!-- 配置检测session的拦截器 -->
		<interceptor-ref name="adminsession"></interceptor-ref>
	</action>
	
	<!-- adminedituser 页面跳转 -->
	<action name="adminedituser" class="control.jspmap.AdminEditUser">
		<result name="success">/WEB-INF/jsp/adminedituser.jsp</result>
		<result name="sessionout">/WEB-INF/jsp/sessionout.jsp</result>
		<!-- 配置系统默认拦截器 -->
		<interceptor-ref name="defaultStack"></interceptor-ref>
		<!-- 配置检测session的拦截器 -->
		<interceptor-ref name="ajaxsession"></interceptor-ref>
	</action>
	
	<!-- AddUser 的ajax -->
	<action name="adduser" class="control.add.AddUser">
		<result name="success" type="stream">
			<param name="inputType">text/html</param>
			<param name="inputName">inputStream</param>
		</result>
		<!-- 配置系统默认拦截器 -->
		<interceptor-ref name="defaultStack"></interceptor-ref>
		<!-- 配置检测ajax session过期的拦截器 -->
		<interceptor-ref name="ajaxsession"></interceptor-ref>
	</action>
	
	<!-- 更新用户密码的ajax -->
	<action name="updateuserpass" class="control.update.UpdateUserPass">
		<result name="success" type="stream">
			<param name="inputType">text/html</param>
			<param name="inputName">inputStream</param>
		</result>
		<!-- 配置系统默认拦截器 -->
		<interceptor-ref name="defaultStack"></interceptor-ref>
		<!-- 配置检测ajax session过期的拦截器 -->
		<interceptor-ref name="ajaxsession"></interceptor-ref>
	</action>
	
	<!-- 删除用户 ajax-->
	<action name="deleteuser" class="control.delete.DeleteAdmin">
		<result name="success" type="stream">
			<param name="inputType">text/html</param>
			<param name="inputName">inputStream</param>
		</result>
		<!-- 配置系统默认拦截器 -->
		<interceptor-ref name="defaultStack"></interceptor-ref>
		<!-- 配置检测ajax session过期的拦截器 -->
		<interceptor-ref name="ajaxsession"></interceptor-ref>
	</action>
	
	<!-- adminaddcaseclass  -->
	<action name="adminaddcaseclass">
		<result name="success">/WEB-INF/jsp/adminaddcaseclass.jsp</result>
	</action>
	
	<!-- 标签管理页面 -->
	<action name="admineditcaseclass" class="control.jspmap.AdminEditLabel">
		<result name="success">/WEB-INF/jsp/admineditcaseclass.jsp</result>
		<result name="sessionout">/WEB-INF/jsp/backlogin.jsp</result>
		<!-- 配置系统默认拦截器 -->
		<interceptor-ref name="defaultStack"></interceptor-ref>
		<!-- 配置检测session的拦截器 -->
		<interceptor-ref name="adminsession"></interceptor-ref>
	</action>
	
	<!-- 首页案例显示页面 -->
	<action name="adminshowcase" class="control.jspmap.AdminShowCase">
		<result name="success">/WEB-INF/jsp/adminshowcase.jsp</result>
		<result name="sessionout">/WEB-INF/jsp/backlogin.jsp</result>
		<!-- 配置系统默认拦截器 -->
		<interceptor-ref name="defaultStack"></interceptor-ref>
		<!-- 配置检测session的拦截器 -->
		<interceptor-ref name="adminsession"></interceptor-ref>
	</action>
	
	<!-- ajax 添加标签 -->
	<action name="addlabel" class="control.add.AddLabel">
		<result name="success" type="stream">
			<param name="inputType">text/html</param>
			<param name="inputName">inputStream</param>
		</result>
		<!-- 配置系统默认拦截器 -->
		<interceptor-ref name="defaultStack"></interceptor-ref>
		<!-- 配置检测ajax session过期的拦截器 -->
		<interceptor-ref name="ajaxsession"></interceptor-ref>
	</action>
	
	<!-- ajax 修改标签 -->
	<action name="updatelabel" class="control.update.UpdateLabel">
		<result name="success" type="stream">
			<param name="inputType">text/html</param>
			<param name="inputName">inputStream</param>
		</result>
		<!-- 配置系统默认拦截器 -->
		<interceptor-ref name="defaultStack"></interceptor-ref>
		<!-- 配置检测ajax session过期的拦截器 -->
		<interceptor-ref name="ajaxsession"></interceptor-ref>
	</action>
	
	<!-- ajax 删除标签 -->
	<action name="deletelabel" class="control.delete.DeleteLabel">
		<result name="success" type="stream">
			<param name="inputType">text/html</param>
			<param name="inputName">inputStream</param>
		</result>
		<!-- 配置系统默认拦截器 -->
		<interceptor-ref name="defaultStack"></interceptor-ref>
		<!-- 配置检测ajax session过期的拦截器 -->
		<interceptor-ref name="ajaxsession"></interceptor-ref>
	</action>
	
	<!-- session过期页面 -->
	<action name="sessionout" >
		<result>/WEB-INF/jsp/sessionout.jsp</result>
	</action>
	
	<!-- 添加用户界面 -->
	<action name="adminadduser">
		<result name="success">/WEB-INF/jsp/adminadduser.jsp</result>
		<result name="sessionout">/WEB-INF/jsp/backlogin.jsp</result>
		<!-- 配置系统默认拦截器 -->
		<interceptor-ref name="defaultStack"></interceptor-ref>
		<!-- 配置检测session的拦截器 -->
		<interceptor-ref name="adminsession"></interceptor-ref>
	</action>
</package>
</struts>    